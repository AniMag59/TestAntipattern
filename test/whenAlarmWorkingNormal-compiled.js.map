{"version":3,"sources":["whenAlarmWorkingNormal.js"],"names":[],"mappings":";;AAAA;;;;AACA;;AACA;;AACA;;AACA;;;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,2BAAN,EAAmC,YAAY;;AAE3C;AACA;AACA,SAAK,yBAAL,EAAgC,YAAW;AACvC,YAAI,OAAO,eAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B,CAAX;AACA;AACA,YAAI,QAAQ,qBAAc,SAAd,EAAyB,EAAzB,EAA6B,IAA7B,EAAmC,GAAnC,CAAZ;;AAEA,yBAAO,KAAP,CAAa,KAAb,EAAoB,MAAM,UAAN,CAAiB,IAAjB,CAApB;AACH,KAND;;AAQA;AACA;AACA,SAAK,yBAAL,EAAgC,YAAY;AACxC,YAAI,OAAO,eAAS,SAAT,EAAoB,IAApB,EAA0B,EAA1B,CAAX;AACA;AACA,YAAI,QAAQ,qBAAe,SAAf,EAA0B,EAA1B,EAA8B,IAA9B,EAAoC,GAApC,CAAZ;;AAEA,yBAAO,KAAP,CAAa,IAAb,EAAmB,MAAM,UAAN,CAAiB,IAAjB,CAAnB;AACH,KAND;;AAQA;AACA,SAAK,yBAAL,EAAgC,YAAY;AACxC,YAAI,OAAO,eAAS,SAAT,EAAoB,KAApB,EAA2B,EAA3B,CAAX;;AAEA;AACA,YAAI,QAAQ,qBAAe,SAAf,EAA0B,EAA1B,EAA8B,IAA9B,EAAoC,GAApC,CAAZ;;AAEA,yBAAO,KAAP,CAAa,KAAb,EAAoB,MAAM,UAAN,CAAiB,IAAjB,CAApB;AACH,KAPD;;AASJ;AACA;;AAEA;AACI,QAAI,QAAQ,6BACP,QADO,CACE,oBADF,EAEP,2BAFO,CAEqB,EAFrB,EAGP,iBAHO,CAGW,IAHX,EAIP,KAJO,EAAZ;;AAMA,QAAI,OACA,uBACK,QADL,CACc,SADd,EAEK,KAFL,EADJ;;AAKJ;AACI,SAAK,+CAAL,EAAsD,YAAY;AAC9D,aAAK,SAAL;AACA,yBAAO,KAAP,CAAa,IAAb,EAAmB,MAAM,UAAN,CAAiB,IAAjB,CAAnB;AACH,KAHD;;AAKA,SAAK,uBAAL,EAA8B,YAAY;AACtC,yBAAO,KAAP,CAAa,IAAb,EAAmB,MAAM,UAAN,CAAiB,IAAjB,CAAnB;AACH,KAFD;;AAIJ;AACA;AACI,SAAK,+CAAL,EAAsD,YAAY;AAC9D,YAAI,OACA,uBACK,QADL,CACc,SADd,EAEK,KAFL,EADJ;;AAKA,yBAAO,KAAP,CAAa,KAAb,EAAoB,MAAM,UAAN,CAAiB,IAAjB,CAApB;;AAEA,aAAK,SAAL;;AAEA,yBAAO,KAAP,CAAa,IAAb,EAAmB,MAAM,UAAN,CAAiB,IAAjB,CAAnB;AACH,KAXD;AAYH,CAvED;AAwEA;AACA","file":"whenAlarmWorkingNormal-compiled.js","sourcesContent":["import assert from 'assert'\r\nimport { Room  } from '../src/room'\r\nimport { NewFireAlarm } from '../src/NewAlarm'\r\nimport { NewRoom } from '../src/NewRoom'\r\nimport { FireAlarm } from '../src/alarm'\r\n\r\n//Пример тестового класса с антипаттернами:\r\n//1. Не соответствующее название\r\n//2. Дублирование кода иницализации\r\n//3. Зависимые\r\n//4. Несколько причин для падения\r\nsuite('when alarm working normal', function () {\r\n\r\n    // 1. Не соответствующее название\r\n    // в этом тесте в действительности происходит \"alarm is not signal on when is no fire in the room\"\r\n    test('alarm is working normal', function() {\r\n        var room = new Room(\"kitchen\", false, 24);\r\n        //2. Дублирование инициализации 1\r\n        var alarm = new FireAlarm(\"kitchen\", 40, true, 100);\r\n\r\n        assert.equal(false, alarm.isSignalOn(room));\r\n    });\r\n\r\n    // 1.Не соответствующее название\r\n    // в этом тесте в действительности происходит \"alarm is not signal on when is no fire in the room\"\r\n    test('alarm is working normal', function () {\r\n        var room = new Room(\"kitchen\", true, 40);\r\n        //2. Дублирование инициализации 2\r\n        var alarm = new  FireAlarm(\"kitchen\", 40, true, 100);\r\n\r\n        assert.equal(true, alarm.isSignalOn(room));\r\n    });\r\n\r\n    // 1.Не соответствующее название\r\n    test('alarm is working normal', function () {\r\n        var room = new Room(\"kitchen\", false, 40);\r\n\r\n        //2. Дублирование инициализации 3\r\n        var alarm = new  FireAlarm(\"kitchen\", 40, true, 100);\r\n\r\n        assert.equal(false, alarm.isSignalOn(room));\r\n    });\r\n\r\n//Что бы не было дублирования инициализации нужно выностиь в setup\r\n//При этом room в сетап выносить не нужно, так как она в тестах может изменяться\r\n\r\n//3. Зависимые тесты\r\n    var alarm = new NewFireAlarm()\r\n        .withName(\"Kitchen Fire Alarm\")\r\n        .withMaxTemperatureCondition(40)\r\n        .withSmokeReaction(true)\r\n        .build();\r\n\r\n    var room =\r\n        new NewRoom()\r\n            .withName(\"kitchen\")\r\n            .build();\r\n\r\n//Если удалить этот тест, следующий упадет\r\n    test('Fire alarm is signaling when fire in the room', function () {\r\n        room.startFire()\r\n        assert.equal(true, alarm.isSignalOn(room));\r\n    });\r\n\r\n    test('Fire alarm is working', function () {\r\n        assert.equal(true, alarm.isSignalOn(room));\r\n    });\r\n\r\n//4. Несколко причин для падения - несколько assert-ов\r\n// act assert, act assert\r\n    test('Fire alarm is signaling when fire in the room', function () {\r\n        var room =\r\n            new NewRoom()\r\n                .withName(\"kitchen\")\r\n                .build();\r\n\r\n        assert.equal(false, alarm.isSignalOn(room));\r\n\r\n        room.startFire();\r\n\r\n        assert.equal(true, alarm.isSignalOn(room));\r\n    });\r\n});\r\n// еще два антипаттерна:\r\n// медленные тесты и хрупкие тесты"]}